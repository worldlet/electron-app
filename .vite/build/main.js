"use strict";const{app:e,BrowserWindow:n,ipcMain:r,Notification:d}=require("electron"),s=require("node:path"),{join:l,resolve:u}=require("path"),c=require("font-list");require("electron-squirrel-startup")&&e.quit();let o;async function t(){const a=new n({width:900,height:600,center:!0,icon:"./public/icon.png",frame:!1,titleBarStyle:"hidden",titleBarOverlay:{color:"rgba(255,255,255,0)",symbolColor:"#74b1be",height:32},webPreferences:{nodeIntegration:!0,preload:s.join(__dirname,"../preload.js")},sandbox:!0,disableHtmlFullscreenWindowResize:!0,enableWebSQL:!1,spellcheck:!0,safeDialogs:!0,safeDialogsMessage:"This message is always displayed in a safe dialog"});await c.getFonts().then(i=>{o=i,console.log(i)}).catch(i=>{console.log(i)}),a.loadFile(l(__dirname,"..","dist","index.html"))}e.whenReady().then(()=>{r.handle("fonts",()=>o),t(),e.on("activate",()=>{n.getAllWindows().length===0&&t()})});e.on("window-all-closed",()=>{process.platform!=="darwin"&&e.quit()});
